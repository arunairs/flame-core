import cn.blinkmind.flame.gradle.Environment

apply plugin: 'docker-compose'

buildscript {
    repositories {
        maven { url 'http://maven.aliyun.com/nexus/content/groups/public' }
        maven { url 'http://repo.spring.io/plugins-release' }
    }

    ext {
        libs = [
                spring : [
                        boot: [version: '1.5.2.RELEASE']
                ],
                commons: [
                        lang : [version: '3.5'],
                        codec: [version: '1.10']
                ],
                google : [
                        guava: [version: '21.0']
                ],
                jackson: [
                        version: '2.8.7'
                ],
                lombok : [
                        version: '1.16.14'
                ],
                testng : [
                        version: '6.11'
                ]
        ]
    }

    dependencies {
        classpath group: 'org.springframework.boot', name: 'spring-boot-gradle-plugin', version: libs.spring.boot.version
        classpath group: 'com.bmuschko', name: 'gradle-docker-plugin', version: '3.0.4'
        classpath group: 'com.avast.gradle', name: 'docker-compose-gradle-plugin', version: '0.3.21'
    }
}

rootProject.ext.env = Environment.getInstance().addProperties(rootProject.file('gradle.properties').newDataInputStream())

