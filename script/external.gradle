import cn.blinkmind.depot.gradle.TaskGroup
import cn.blinkmind.depot.gradle.external.Component

task externalEnv(group: TaskGroup.SERVER, dependsOn: ['systemEnv'], description: 'set external component environment') {
    ext.components = new HashMap<String, Component>()
    ext.addComponent = { String name, Component component ->
        components.put(name, component)
        logger.lifecycle "configure new external component:${name}"
    }
    ext.getComponent = { String name ->
        return components[name]
    }
}